<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Image to PDF</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<style>
  /* ===== Body ===== */
  body {
    margin: 0;
    padding: 20px;
    font-family: 'Kanit', sans-serif;
    background: linear-gradient(135deg, #f0fff0, #e6f7ff);
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
    box-sizing: border-box;
  }

  /* ===== Logo ===== */
  .logo-container {
    text-align: center;
    margin-bottom: 30px;
    animation: fadeIn 1s ease forwards;
  }

  .logo-container img {
    width: 120px;
    height: auto;
    margin-bottom: 10px;
  }

  .logo-container h3 {
    color: #06C755;
    font-weight: 700;
    margin: 0;
    font-size: 1.6rem;
  }

  /* ===== Title ===== */
  h1 {
    color: #06C755;
    font-weight: 700;
    margin-bottom: 20px;
    text-align:center;
    font-size: 1.8rem;
  }

  /* ===== Inputs ===== */
  input[type=file], textarea, .dropdown-btn {
    width: 100%;
    max-width: 400px;
    padding: 15px;
    margin-bottom: 15px;
    border: 1.5px solid #ccc;
    border-radius: 12px;
    font-size: 1rem;
    background: #fff;
    outline: none;
    box-sizing: border-box;
    cursor: pointer;
    transition: 0.3s;
  }

  input[type=file]:focus, textarea:focus, .dropdown-btn:focus {
    border-color: #06C755;
    box-shadow: 0 0 8px rgba(6,199,85,0.3);
  }

  textarea::placeholder { color:#aaa; font-style: italic; }
  textarea { resize: none; height: 80px; }

  /* ===== Buttons ===== */
  .btn {
    width: 100%;
    max-width: 400px;
    padding: 15px;
    border: none;
    border-radius: 12px;
    background-color: #06C755;
    color: #fff;
    font-size: 1.2rem;
    font-weight: 700;
    cursor: pointer;
    margin-top: 10px;
    text-align: center;
    transition: 0.3s;
  }

  .btn:hover {
    background-color: #049645;
    transform: translateY(-2px);
  }

  /* ===== Result ===== */
  #result {
    text-align:center;
    font-size:1.2rem;
    font-weight:700;
    margin-top:15px;
  }
  .success { color: green; }
  .error { color: red; }

  /* ===== Share Menu ===== */
  .share-menu {
    display: flex;
    gap: 15px;
    margin-top: 15px;
    justify-content: center;
  }

  .share-menu a {
    text-decoration: none;
    font-size: 1.4rem;
    color: #fff;
    width: 45px;
    height: 45px;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 50%;
    transition: 0.3s;
  }

  .share-facebook { background:#3b5998; }
  .share-twitter { background:#1da1f2; }
  .share-line { background:#00c300; }

  .share-menu a:hover { opacity:0.8; transform: scale(1.1); }

  /* ===== Footer ===== */
  footer {
    margin-top: 30px;
    font-size: 0.85rem;
    color: #666;
    text-align:center;
  }
  footer a { color: #3768fa; text-decoration: none; margin: 0 5px; }
  footer a:hover { text-decoration: underline; }

  @keyframes fadeIn {
    0% { opacity:0; transform: translateY(-10px); }
    100% { opacity:1; transform: translateY(0); }
  }
</style>
</head>
<body>

<div class="logo-container">
  <img src="https://cdn-icons-png.flaticon.com/512/281/281769.png" alt="Logo">
  <h3>Image to PDF Converter</h3>
</div>

<h1>üì∑ ‡πÅ‡∏õ‡∏•‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÄ‡∏õ‡πá‡∏ô PDF</h1>

<input type="file" id="images" accept="image/*" multiple>

<p id="scannerBtn" class="btn" style="cursor:pointer;">üì∑ Scanner</p>
<input type="file" id="cameraScan" accept="image/*" capture="environment" style="display:none;">

<button class="btn" onclick="makePDF()">‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô PDF</button>

<div id="result"></div>

<!-- Share Menu -->
<div class="share-menu" id="shareMenu" style="display:none;">
  <a href="#" target="_blank" class="share-facebook" id="shareFb" title="‡πÅ‡∏ä‡∏£‡πå Facebook">F</a>
  <a href="#" target="_blank" class="share-twitter" id="shareTw" title="‡πÅ‡∏ä‡∏£‡πå Twitter">T</a>
  <a href="#" target="_blank" class="share-line" id="shareLine" title="‡πÅ‡∏ä‡∏£‡πå Line">L</a>
</div>

<footer>
  ¬© 2025 My Project |
  <a href="https://github.com/sekartwork-creator" target="_blank">GitHub</a>
</footer>

<script>
const { jsPDF } = window.jspdf;
let imageFiles = [];

document.getElementById('images').addEventListener('change', function(e) {
  imageFiles = Array.from(e.target.files);
});

document.getElementById('scannerBtn').addEventListener('click', function() {
  document.getElementById('cameraScan').click();
});

document.getElementById('cameraScan').addEventListener('change', function(e) {
  imageFiles = Array.from(e.target.files);
});

async function makePDF() {
  if (imageFiles.length === 0) {
    document.getElementById('result').innerHTML =
      "<span class='error'>‚ö† ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡πà‡∏∞</span>";
    document.getElementById('shareMenu').style.display = 'none';
    return;
  }

  const pdf = new jsPDF();

  for (let i=0; i<imageFiles.length; i++){
    const imgData = await toBase64(imageFiles[i]);
    const img = new Image();
    img.src = imgData;
    await new Promise(res => img.onload = res);

    let width = pdf.internal.pageSize.getWidth();
    let height = (img.height * width) / img.width;

    if(i>0) pdf.addPage();
    pdf.addImage(img, "JPEG", 0, 0, width, height);
  }

  const pdfBlob = pdf.output("blob");
  const url = URL.createObjectURL(pdfBlob);
  document.getElementById('result').innerHTML =
    "<a href='" + url + "' download='images.pdf' class='success'>üì• ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î PDF</a>";

  // ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏°‡∏ô‡∏π‡πÅ‡∏ä‡∏£‡πå
  document.getElementById('shareMenu').style.display = 'flex';
  document.getElementById('shareFb').href = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`;
  document.getElementById('shareTw').href = `https://twitter.com/intent/tweet?url=${encodeURIComponent(url)}&text=${encodeURIComponent('‡πÅ‡∏õ‡∏•‡∏á‡∏£‡∏π‡∏õ‡πÄ‡∏õ‡πá‡∏ô PDF!')}`;
  document.getElementById('shareLine').href = `https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(url)}`;
}

function toBase64(file){
  return new Promise((resolve,reject)=>{
    const reader = new FileReader();
    reader.readAsDataURL(file);
    reader.onload = ()=>resolve(reader.result);
    reader.onerror = error=>reject(error);
  });
}
</script>

</body>
</html>
