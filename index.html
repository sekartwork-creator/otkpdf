<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Image to PDF</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<style>
    /* ===== Body (‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏≤‡∏á) ===== */
    body {
      margin: 0;
      padding: 20px;
      font-family: 'Kanit', sans-serif;
      background-color: #fff;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      box-sizing: border-box;
    }

    .logo-container {
      text-align: center;
      margin-bottom: 30px;
    }

    .logo-container img {
      width: 120px;
      height: auto;
      margin-bottom: 10px;
    }

    .logo-container h3 {
      color: #06C755;
      font-weight: 700;
      margin: 0;
      font-size: 1.5rem;
    }

    h1 { color: #06C755; font-weight: 700; margin-bottom: 20px; text-align:center; }
    h3 { color: #06C755; }

    input[type=file], .dropdown-btn, textarea {
      width: 100%;
      max-width: 400px;
      padding: 15px;
      margin-bottom: 15px;
      border: 1.5px solid #ccc;
      border-radius: 10px;
      font-size: 1rem;
      background: #f9f9f9;
      outline: none;
      box-sizing: border-box;
      cursor: pointer;
    }

    input[type=file]:focus, textarea:focus, .dropdown-btn:focus {
      border: 1.5px solid #06C755;
      background: #fff;
    }

    textarea::placeholder { color:#aaa; font-style: italic; }
    textarea { resize: none; height: 80px; }

    .btn {
      width: 100%;
      max-width: 400px;
      padding: 15px;
      border: none;
      border-radius: 10px;
      background-color: #06C755;
      color: #fff;
      font-size: 1.2rem;
      font-weight: 700;
      cursor: pointer;
      margin-top: 10px;
    }

    .btn:hover { background-color: #049645; }

    #result { text-align:center; font-size:1.2rem; font-weight:700; margin-top:10px; }
    .success { color: green; }
    .error { color: red; }

    footer { margin-top: 30px; font-size: 0.85rem; color: #666; text-align:center; }
    footer a { color: #3768fa; text-decoration: none; margin: 0 5px; }
    footer a:hover { text-decoration: underline; }
</style>
</head>
<body>

<div class="logo-container">
  <img src="https://cdn-icons-png.flaticon.com/512/281/281769.png" alt="Logo">
  <h3>Image to PDF Converter</h3>
</div>

<h1>üì∑ ‡πÅ‡∏õ‡∏•‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÄ‡∏õ‡πá‡∏ô PDF</h1>

<!-- ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå -->
<input type="file" id="images" accept="image/*" multiple>

<!-- ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏™‡πÅ‡∏Å‡∏ô -->
<input type="file" id="cameraScan" accept="image/*" capture="environment">

<!-- ‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô PDF -->
<button class="btn" onclick="makePDF()">‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô PDF</button>

<div id="result"></div>

<footer>
  ¬© 2025 My Project |
  <a href="https://github.com/sekartwork-creator" target="_blank">GitHub</a>
</footer>

<script>
const { jsPDF } = window.jspdf;
let imageFiles = [];

// ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏à‡∏≤‡∏Å‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠/‡∏Ñ‡∏≠‡∏°
document.getElementById('images').addEventListener('change', function(e) {
  imageFiles = Array.from(e.target.files);
});

// ‡πÉ‡∏ä‡πâ‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏ñ‡πà‡∏≤‡∏¢‡∏™‡πÅ‡∏Å‡∏ô
document.getElementById('cameraScan').addEventListener('change', function(e) {
  imageFiles = Array.from(e.target.files);
});

async function makePDF() {
  if (imageFiles.length === 0) {
    document.getElementById('result').innerHTML =
      "<span class='error'>‚ö† ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡πà‡∏∞</span>";
    return;
  }

  const pdf = new jsPDF();

  for (let i=0; i<imageFiles.length; i++){
    const imgData = await toBase64(imageFiles[i]);
    const img = new Image();
    img.src = imgData;
    await new Promise(res => img.onload = res);

    let width = pdf.internal.pageSize.getWidth();
    let height = (img.height * width) / img.width;

    if(i>0) pdf.addPage();
    pdf.addImage(img, "JPEG", 0, 0, width, height);
  }

  const pdfBlob = pdf.output("blob");
  const url = URL.createObjectURL(pdfBlob);
  document.getElementById('result').innerHTML =
    "<a href='" + url + "' download='images.pdf' class='success'>üì• ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î PDF</a>";
}

function toBase64(file){
  return new Promise((resolve,reject)=>{
    const reader = new FileReader();
    reader.readAsDataURL(file);
    reader.onload = ()=>resolve(reader.result);
    reader.onerror = error=>reject(error);
  });
}
</script>

</body>
</html>
